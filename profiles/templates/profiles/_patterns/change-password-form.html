{% load i18n %}

<form method="post" action="" class="profiles__form">
{% csrf_token %}
    {% if form.errors or form.non_field_errors %}
        {% if form.non_field_errors %}
            {% for error in form.non_field_errors %}
                <span class="error">{{ error }}</span>
            {% endfor %}
            {% for error in form.errors %}
                <span class="error">{{ error }}</span>
            {% endfor %}
        {% endif %}
    {% endif %}

    {% if messages %}  
        <ul class="error-list">
            {% for message in messages %}
                <li class="error-list__item">{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <fieldset>
        <label for="id_old_pin">{% trans "Old pin" %}</label>
        <div class="input-group">
            {{form.old_password}}
            <span class="input-hint">{% trans "(e.g. 2086)" %}</span>
            {{form.old_password.errors}}
        </div>
    </fieldset>

    <fieldset>
        <label for="id_new_password">{% trans "New pin" %}</label>
        <div class="input-group">
            {{form.new_password}}
            {{form.new_password.errors}}
        </div>
    </fieldset>

    <fieldset>
        <label for="id_confirm_password">{% trans "Confirm New pin" %}</label>
        <div class="input-group">
            {{form.confirm_password}}
            {{form.confirm_password.errors}}
        </div>
    </fieldset>
    <div class="call-to-action">
        <input type="submit" value="{% trans 'Save' %}" class="call-to-action__submit">
    </div>
</form>